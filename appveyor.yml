branches:
  only:
    - jdk-next-win

version: '{build}'

os: Visual Studio 2015

environment:
    matrix:
        - JAVA_HOME: C:\Program Files\Java\jdk1.8.0
	- JAVA_HOME: C:\Program Files\Java\jdk9
        - JAVA_HOME: C:\Program Files\Java\jdk1.12.0
platform:
  - x86
  - x64

install:
  - ps: choco install maven -y -f
  - cmd: refreshenv
  - ps: $env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")
  - java -version
  - mvn -version

build_script:
  - mvn --batch-mode clean package -DskipTests

test_script:
  - mvn --batch-mode clean package

cache:
 - C:\Users\appveyor\.m2
